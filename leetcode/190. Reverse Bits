public class Solution {
    // you need treat n as an unsigned value
    public int reverseBits(int n) {
        if(n == 0) { return n; }
//         int i = 31;
//         int result = 0;

//         while (i >= 0) {

//             int lastBit = n & 1;
//             if (lastBit == 1) result = result | (lastBit << i);
//             i--;
//             n >>= 1;
            
//         }
        // For positive and negative numbers
        n = (n & 0x0000ffff) << 16 | (n & 0xffff0000) >>> 16;
        n = (n & 0x00ff00ff) << 8  | (n & 0xff00ff00) >>> 8;
        n = (n & 0x0f0f0f0f) << 4  | (n & 0xf0f0f0f0) >>> 4;
        n = (n & 0x33333333) << 2  | (n & 0xcccccccc) >>> 2;
        n = (n & 0x55555555) << 1  | (n & 0xaaaaaaaa) >>> 1;
        return n;
        // return result;
    }
}
